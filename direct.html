<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solana Flow Analytics - Static Version</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-color: #0F1421;
      color: #FFFFFF;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    header {
      margin-bottom: 2rem;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #9945FF, #14F195);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
    }
    p {
      color: #A3A3A3;
      margin-top: 0;
    }
    .card {
      background-color: #1A2232;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .feature {
      background-color: #1A2232;
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid #2A3346;
    }
    .feature h3 {
      color: #14F195;
      margin-top: 0;
    }
    .button {
      display: inline-block;
      background: linear-gradient(90deg, #9945FF, #14F195);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 1rem;
      border: none;
      cursor: pointer;
    }
    code {
      background-color: #0F1421;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'Courier New', Courier, monospace;
      font-size: 0.9rem;
    }
    .screenshot {
      width: 100%;
      border-radius: 8px;
      margin-top: 1rem;
      border: 1px solid #2A3346;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Solana Flow Analytics Platform</h1>
      <p>Visualize and analyze transaction flows on the Solana blockchain</p>
    </header>
    
    <div class="card">
      <h2>Implementation Status Update</h2>
      <p>We've successfully implemented the requested features:</p>
      <ul>
        <li><strong>Solscan Integration:</strong> Wallet nodes are now clickable and include a "View in Solscan" button that opens the wallet address in Solscan.io for more detailed information.</li>
        <li><strong>Wallet Filtering:</strong> Added filtering functionality to visualize only transactions interacting with a selected wallet, making it easier to focus on specific transaction flows.</li>
      </ul>
      <p>The implementation includes:</p>
      <ul>
        <li>A "Filter By Node" button in the wallet details panel</li>
        <li>Visual filter indicator showing which wallet is being filtered</li>
        <li>Easy one-click filter removal</li>
        <li>Dynamic filtering of graph nodes and edges</li>
        <li>Adaptive button state showing when filters are active</li>
        <li>Color-coded filter indicators for better visibility</li>
      </ul>
      
      <h3>User Interface Updates</h3>
      <p>When a user clicks on a node, they now see two primary actions:</p>
      <ul>
        <li><strong>Filter By Node:</strong> Shows only transactions involving this wallet, with a clear indicator at the top of the visualization.</li>
        <li><strong>View in Solscan:</strong> Opens the wallet address in Solscan blockchain explorer for detailed analysis.</li>
      </ul>
      <p>The filter button toggles between active and inactive states, allowing users to easily turn filters on and off. When a filter is active, a filter indicator appears at the top of the visualization showing which wallet is being filtered, with an option to remove the filter.</p>
      
      <div style="background-color: #1A2232; border-radius: 8px; padding: 20px; margin-top: 20px; border: 1px dashed #2A3346;">
        <h4 style="margin-top: 0; color: #14F195;">UI Mockup: Node Details with Active Filter</h4>
        <div style="background-color: #0F1421; border-radius: 6px; padding: 12px; position: relative;">
          <!-- Node Details Panel -->
          <div style="position: absolute; right: 16px; top: 12px; background-color: #252B3D; padding: 12px; border-radius: 6px; width: 180px; font-size: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: white; font-weight: 500;">Wallet</span>
              <span style="color: #999; font-size: 10px;">Last activity: 2h ago</span>
            </div>
            <div style="margin-bottom: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                <span style="color: #999;">Address:</span>
                <span style="color: white; font-family: monospace;">Djk9...a7Uh</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                <span style="color: #999;">Balance:</span>
                <span style="color: white;">4.78 SOL</span>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span style="color: #999;">Transaction Count:</span>
                <span style="color: white;">23</span>
              </div>
            </div>
            <div style="display: flex; gap: 8px;">
              <!-- Filter Button (Active State) -->
              <div style="flex: 1; background: linear-gradient(90deg, #9945FF, #14F195); color: white; padding: 6px 0; border-radius: 4px; font-size: 10px; text-align: center; display: flex; align-items: center; justify-content: center; gap: 4px;">
                <span style="display: inline-block; width: 10px; height: 10px;">⊛</span>
                <span>Clear Filter</span>
              </div>
              <!-- Solscan Button -->
              <div style="flex: 1; background: #9945FF; color: white; padding: 6px 0; border-radius: 4px; font-size: 10px; text-align: center;">
                View in Solscan
              </div>
            </div>
          </div>
          
          <!-- Filter Indicator -->
          <div style="position: absolute; top: 12px; left: 12px; background-color: #0A0E19; padding: 6px 12px; border-radius: 4px; display: flex; align-items: center; gap: 8px; font-size: 11px;">
            <span style="color: #14F195; font-size: 10px;">⊛</span>
            <span style="color: white;">Filtering by: Djk9...a7Uh</span>
            <span style="color: #999; cursor: pointer;">×</span>
          </div>
          
          <!-- Graph Visualization Placeholder -->
          <div style="height: 300px; display: flex; align-items: center; justify-content: center;">
            <svg width="320" height="240" viewBox="0 0 320 240">
              <circle cx="160" cy="120" r="40" fill="#9945FF" opacity="0.7"></circle>
              <circle cx="240" cy="80" r="20" fill="#14F195" opacity="0.7"></circle>
              <circle cx="80" cy="160" r="25" fill="#777" opacity="0.7"></circle>
              <circle cx="210" cy="180" r="15" fill="#777" opacity="0.7"></circle>
              <line x1="160" y1="120" x2="240" y2="80" stroke="#9945FF" stroke-width="2"></line>
              <line x1="160" y1="120" x2="80" y2="160" stroke="#14F195" stroke-width="2"></line>
              <line x1="160" y1="120" x2="210" y2="180" stroke="#777" stroke-width="1"></line>
            </svg>
          </div>
        </div>
      </div>
      
      <div style="background-color: #1A2232; border-radius: 8px; padding: 20px; margin-top: 20px; border: 1px dashed #2A3346;">
        <h4 style="margin-top: 0; color: #14F195;">UI Mockup: Node Details with Inactive Filter</h4>
        <div style="background-color: #0F1421; border-radius: 6px; padding: 12px; position: relative;">
          <!-- Node Details Panel -->
          <div style="position: absolute; right: 16px; top: 12px; background-color: #252B3D; padding: 12px; border-radius: 6px; width: 180px; font-size: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="color: white; font-weight: 500;">Wallet</span>
              <span style="color: #999; font-size: 10px;">Last activity: 2h ago</span>
            </div>
            <div style="margin-bottom: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                <span style="color: #999;">Address:</span>
                <span style="color: white; font-family: monospace;">Djk9...a7Uh</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                <span style="color: #999;">Balance:</span>
                <span style="color: white;">4.78 SOL</span>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span style="color: #999;">Transaction Count:</span>
                <span style="color: white;">23</span>
              </div>
            </div>
            <div style="display: flex; gap: 8px;">
              <!-- Filter Button (Inactive State) -->
              <div style="flex: 1; background-color: #252B3D; border: 1px solid #3A3F52; color: #999; padding: 6px 0; border-radius: 4px; font-size: 10px; text-align: center; display: flex; align-items: center; justify-content: center; gap: 4px;">
                <span style="display: inline-block; width: 10px; height: 10px;">⊛</span>
                <span>Filter By Node</span>
              </div>
              <!-- Solscan Button -->
              <div style="flex: 1; background: #9945FF; color: white; padding: 6px 0; border-radius: 4px; font-size: 10px; text-align: center;">
                View in Solscan
              </div>
            </div>
          </div>
          
          <!-- Graph Visualization Placeholder -->
          <div style="height: 300px; display: flex; align-items: center; justify-content: center;">
            <svg width="320" height="240" viewBox="0 0 320 240">
              <circle cx="160" cy="120" r="40" fill="#9945FF" opacity="0.7"></circle>
              <circle cx="240" cy="80" r="20" fill="#14F195" opacity="0.7"></circle>
              <circle cx="80" cy="160" r="25" fill="#777" opacity="0.7"></circle>
              <circle cx="210" cy="180" r="15" fill="#777" opacity="0.7"></circle>
              <circle cx="120" cy="60" r="18" fill="#777" opacity="0.7"></circle>
              <circle cx="280" cy="160" r="22" fill="#777" opacity="0.7"></circle>
              <line x1="160" y1="120" x2="240" y2="80" stroke="#9945FF" stroke-width="2"></line>
              <line x1="160" y1="120" x2="80" y2="160" stroke="#14F195" stroke-width="2"></line>
              <line x1="160" y1="120" x2="210" y2="180" stroke="#777" stroke-width="1"></line>
              <line x1="160" y1="120" x2="120" y2="60" stroke="#777" stroke-width="1"></line>
              <line x1="160" y1="120" x2="280" y2="160" stroke="#777" stroke-width="1"></line>
            </svg>
          </div>
        </div>
      </div>
    </div>
    
    <div class="features">
      <div class="feature">
        <h3>Solscan Integration</h3>
        <p>External blockchain explorer integration for in-depth wallet research:</p>
        <ul>
          <li>Direct link to Solscan explorer</li>
          <li>View detailed wallet information</li>
          <li>Track transaction history</li>
          <li>See token balances and NFTs</li>
        </ul>
      </div>
      
      <div class="feature">
        <h3>Wallet Filtering</h3>
        <p>Focus on transactions involving a specific wallet:</p>
        <ul>
          <li>Filter visualization by clicking any node</li>
          <li>Highlight direct relationships</li>
          <li>Toggle filter on/off easily</li>
          <li>Isolate complex transaction paths</li>
        </ul>
      </div>
      
      <div class="feature">
        <h3>User Experience</h3>
        <p>Improvements to user interaction:</p>
        <ul>
          <li>Visual filter indicators</li>
          <li>Clear button states showing active filters</li>
          <li>Consistent design language</li>
          <li>Optimized for both technical and non-technical users</li>
        </ul>
      </div>
    </div>
    
    <div class="card">
      <h2>Technical Implementation Details</h2>
      <h3>1. Solscan Integration</h3>
      <p>Added utility functions to generate Solscan URLs and open them:</p>
      <pre><code>
// In utils.ts
export function getSolscanUrl(address: string, type: 'address' | 'tx' = 'address'): string {
  const baseUrl = 'https://solscan.io';
  return `${baseUrl}/${type}/${address}`;
}

export function openInSolscan(address: string, type: 'address' | 'tx' = 'address'): void {
  const url = getSolscanUrl(address, type);
  window.open(url, '_blank');
}
      </code></pre>
      
      <h3>2. Wallet Filtering</h3>
      <p>Modified the useSolanaData hook to filter based on selected wallet:</p>
      <pre><code>
// Filter nodes and edges if filterWalletAddress is provided
if (filterWalletAddress) {
  filteredEdges = edges.filter(edge => 
    edge.source === filterWalletAddress || edge.target === filterWalletAddress
  );
  
  // Get all addresses connected to the filtered wallet
  const connectedAddresses = new Set&lt;string&gt;();
  connectedAddresses.add(mainAddress);
  connectedAddresses.add(filterWalletAddress);
  
  filteredEdges.forEach(edge => {
    connectedAddresses.add(edge.source);
    connectedAddresses.add(edge.target);
  });
  
  // Filter nodes
  filteredNodes = filteredNodes.filter(node => 
    connectedAddresses.has(node.address)
  );
}
      </code></pre>
    </div>
    
    <div class="card">
      <h2>Next Steps</h2>
      <p>The platform now has robust transaction visualization capabilities with Solscan integration and wallet filtering. Future enhancements could include:</p>
      <ul>
        <li><strong>Enhanced Entity Labeling:</strong> Auto-detect and label known exchanges, projects, and services</li>
        <li><strong>AI-Powered Pattern Detection:</strong> Identify suspicious transaction patterns</li>
        <li><strong>Advanced Filtering:</strong> Filter by transaction type, date ranges, and token amount</li>
        <li><strong>Custom Node Grouping:</strong> Allow users to create custom entity groups</li>
      </ul>
    </div>
  </div>
</body>
</html>